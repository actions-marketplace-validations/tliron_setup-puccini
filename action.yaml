name: Setup Puccini TOSCA
description: Enabled compilation and validation of TOSCA and CSAR
branding:
  icon: command
  color: gray-dark
inputs:
  version:
    description: Puccini version (tag or branch)
    required: false
    default: main
outputs:
  result:
    description: The output from the command
runs:
  using: composite
  steps:
  - name: Setup Go
    uses: actions/setup-go@v2
    with:
      stable: false
      go-version: 1.18.0-rc1
  - name: Get Puccini
    run: git clone --branch ${{ inputs.version }} --depth 1 https://github.com/tliron/puccini.git
    shell: bash
  - name: Build Puccini
    run: puccini/scripts/build
    shell: bash
